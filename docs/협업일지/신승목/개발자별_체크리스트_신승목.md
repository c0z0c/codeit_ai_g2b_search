---
layout: default
title: "[ì¤‘ê¸‰í”„ë¡œì íŠ¸] - ì‹ ìŠ¹ëª©: ë¬¸ì„œ ìˆ˜ì§‘ ë° ì›ë³¸ ì „ì²˜ë¦¬"
description: "[ì¤‘ê¸‰í”„ë¡œì íŠ¸] - ì‹ ìŠ¹ëª©: ë¬¸ì„œ ìˆ˜ì§‘ ë° ì›ë³¸ ì „ì²˜ë¦¬"
date: 2025-11-08
cache-control: no-cache
expires: 0
pragma: no-cache
author: "ê¹€ëª…í™˜"
---

## ğŸ‘¤ ì‹ ìŠ¹ëª©: ë¬¸ì„œ ìˆ˜ì§‘ ë° ì›ë³¸ ì „ì²˜ë¦¬

### Phase 1: í™˜ê²½ ì„¤ì •
- [ ] PDF ì²˜ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ (PyPDF2, pdfplumber ë“±)
- [ ] HWP ì²˜ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ (olefile, hwp5 ë“±)
- [ ] Markdown ë³€í™˜ ë„êµ¬ ì„ ì •
- [ ] í•´ì‹œ ê³„ì‚° ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ì‘ì„± (SHA-256)

### Phase 2: ë¬¸ì„œ ìˆ˜ì§‘ ëª¨ë“ˆ
- [ ] ë¡œì»¬ íŒŒì¼ ì‹œìŠ¤í…œì—ì„œ PDF/HWP íŒŒì¼ ìˆ˜ì§‘ í•¨ìˆ˜
- [ ] ë°ì´í„° í¬í„¸ API ì—°ë™ (ì„ íƒ ì‚¬í•­)
- [ ] íŒŒì¼ ì¤‘ë³µ í™•ì¸ ë¡œì§ (file_hash ê¸°ì¤€)
- [ ] íŒŒì¼ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ (í¬ê¸°, í˜ì´ì§€ ìˆ˜ ë“±)

### Phase 3: Markdown ë³€í™˜
- [ ] PDF â†’ Markdown ë³€í™˜ í•¨ìˆ˜
  - [ ] í˜ì´ì§€ êµ¬ë¶„ì ì‚½ì…: `\n\n--- í˜ì´ì§€ {page_num} ---\n\n`
  - [ ] ë¹ˆ í˜ì´ì§€ ì²˜ë¦¬: `\n--- [ë¹ˆí˜ì´ì§€] ---\n`
  - [ ] ì´ë¯¸ì§€/í‘œ ì²˜ë¦¬ ì „ëµ ê²°ì •
- [ ] HWP â†’ Markdown ë³€í™˜ í•¨ìˆ˜
- [ ] ê¸°ë³¸ ì „ì²˜ë¦¬ í•¨ìˆ˜
  - [ ] ì—°ì†ëœ ê°œí–‰ ì •ë¦¬ (`\n\n\n` â†’ `\n\n`)
  - [ ] íŠ¹ìˆ˜ ë¬¸ì ì •ê·œí™”

### Phase 4: í† í° ê³„ì‚° ë° DB ì €ì¥
- [ ] GPT tokenizer ì„¤ì¹˜ (`tiktoken`)
- [ ] í˜ì´ì§€ë³„ í† í° ìˆ˜ ê³„ì‚° í•¨ìˆ˜
- [ ] ì „ì²´ ë¬¸ì„œ í† í° ìˆ˜ ì§‘ê³„
- [ ] `file_info` í…Œì´ë¸” ì‚½ì… í•¨ìˆ˜
- [ ] `page_data` í…Œì´ë¸” ì‚½ì… í•¨ìˆ˜
- [ ] íŠ¸ëœì­ì…˜ ì²˜ë¦¬ ë° ì—ëŸ¬ í•¸ë“¤ë§

### Phase 5: í†µí•© ë° í…ŒìŠ¤íŠ¸
- [ ] ë”ë¯¸ í•¨ìˆ˜ì—ì„œ ì‹¤ì œ êµ¬í˜„ìœ¼ë¡œ ì „í™˜
- [ ] 3ê°œ ìƒ˜í”Œ ë¬¸ì„œë¡œ ì „ì²´ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸
- [ ] ì¦ë¶„ ì—…ë°ì´íŠ¸ ë¡œì§ êµ¬í˜„ (file_hash ë¹„êµ)
- [ ] ë¡œê¹… ì‹œìŠ¤í…œ ì¶”ê°€
- [ ] ì˜¤í˜•ì£¼ì—ê²Œ UI ì—°ë™ API ì „ë‹¬

### ì£¼ìš” í•¨ìˆ˜ ì¸í„°í˜ì´ìŠ¤
```python
def calculate_file_hash(file_path: str) -> str:
    """íŒŒì¼ SHA-256 í•´ì‹œ ê³„ì‚°"""

def convert_pdf_to_markdown(pdf_path: str) -> List[str]:
    """PDFë¥¼ í˜ì´ì§€ë³„ ë§ˆí¬ë‹¤ìš´ ë¦¬ìŠ¤íŠ¸ë¡œ ë³€í™˜"""

def save_document_to_db(file_hash: str, file_info: dict, pages: List[str]):
    """ë¬¸ì„œ ì •ë³´ì™€ í˜ì´ì§€ë¥¼ documents.dbì— ì €ì¥"""
```
